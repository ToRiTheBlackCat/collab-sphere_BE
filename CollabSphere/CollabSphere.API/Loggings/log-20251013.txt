2025-10-13 10:47:51.974 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 10:47:52.590 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 10:47:52.594 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 10:47:52.724 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 10:47:52.727 +07:00 [INF] Hosting environment: Development
2025-10-13 10:47:52.731 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 10:47:53.681 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 10:47:54.031 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 364.243ms
2025-10-13 10:47:54.059 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 10:47:54.077 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 18.4934ms
2025-10-13 10:47:54.263 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 10:47:54.344 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.7053ms
2025-10-13 10:47:54.413 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 10:47:54.455 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.7422ms
2025-10-13 10:48:02.863 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/1 - null null
2025-10-13 10:48:06.226 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (3|4|5)
2025-10-13 10:48:06.248 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-13 10:48:06.256 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/1 - 401 0 null 3393.1575ms
2025-10-13 10:48:34.724 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/auth/login - application/json 61
2025-10-13 10:48:34.767 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 10:48:34.781 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 10:48:34.867 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CollabSphere.Application.DTOs.User.LoginRequestDTO) on controller CollabSphere.API.Controllers.AuthController (CollabSphere.API).
2025-10-13 10:48:34.883 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 10:48:44.804 +07:00 [INF] Executed DbCommand (215ms) [Parameters=[@__email_0='?', @__password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
WHERE u.email = @__email_0 AND u.password = @__password_1 AND u.is_active
LIMIT 1
2025-10-13 10:48:46.062 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "user" SET created_date = @p0, email = @p1, is_active = @p2, is_teacher = @p3, password = @p4, refresh_token = @p5, refresh_token_expiry_time = @p6, role_id = @p7
WHERE u_id = @p8;
2025-10-13 10:48:46.298 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.LoginResponseDTO'.
2025-10-13 10:48:46.348 +07:00 [INF] Executed action CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API) in 11464.7919ms
2025-10-13 10:48:46.359 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 10:48:46.385 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/auth/login - 200 null application/json; charset=utf-8 11663.8479ms
2025-10-13 10:49:05.258 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/1 - null null
2025-10-13 10:49:05.383 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:49:05.408 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:49:08.799 +07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:50:24.663 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 10:50:25.072 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 10:50:25.077 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 10:50:25.259 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 10:50:25.263 +07:00 [INF] Hosting environment: Development
2025-10-13 10:50:25.266 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 10:50:25.596 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 10:50:25.857 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 269.5052ms
2025-10-13 10:50:25.861 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 10:50:25.894 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 32.1691ms
2025-10-13 10:50:26.045 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 10:50:26.136 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.7573ms
2025-10-13 10:50:26.218 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 10:50:26.261 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 43.9785ms
2025-10-13 10:50:52.749 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3 - null null
2025-10-13 10:50:53.138 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:50:53.217 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:50:53.233 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 10:51:02.278 +07:00 [INF] Executed DbCommand (238ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:51:13.361 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 10:51:13.770 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 10:51:13.774 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 10:51:13.901 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 10:51:13.904 +07:00 [INF] Hosting environment: Development
2025-10-13 10:51:13.908 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 10:51:14.301 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 10:51:14.548 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 256.5882ms
2025-10-13 10:51:14.555 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 10:51:14.579 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 25.1911ms
2025-10-13 10:51:14.741 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 10:51:14.825 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.2953ms
2025-10-13 10:51:14.896 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 10:51:14.930 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.4918ms
2025-10-13 10:51:29.573 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 10:51:30.003 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 10:51:30.010 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 10:51:30.168 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 10:51:30.173 +07:00 [INF] Hosting environment: Development
2025-10-13 10:51:30.176 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 10:51:30.596 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 10:51:30.867 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 279.5785ms
2025-10-13 10:51:30.875 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 10:51:30.898 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 23.3641ms
2025-10-13 10:51:31.090 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 10:51:31.200 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 110.9942ms
2025-10-13 10:51:31.278 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 10:51:31.319 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.7898ms
2025-10-13 10:51:44.652 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/1 - null null
2025-10-13 10:51:44.981 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:51:45.063 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:51:45.078 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 10:51:52.441 +07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:53:02.049 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 10:53:02.504 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 10:53:02.513 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 10:53:02.671 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 10:53:02.678 +07:00 [INF] Hosting environment: Development
2025-10-13 10:53:02.685 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 10:53:03.235 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 10:53:03.498 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 273.9635ms
2025-10-13 10:53:03.503 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 10:53:03.536 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 32.8614ms
2025-10-13 10:53:03.706 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 10:53:03.840 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 135.2622ms
2025-10-13 10:53:03.922 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 10:53:03.969 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.4752ms
2025-10-13 10:53:30.836 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/1 - null null
2025-10-13 10:53:31.124 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/10/2025 7:43:04 PM', Current time (UTC): '10/13/2025 3:53:31 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-10-13 10:53:31.221 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/10/2025 7:43:04 PM', Current time (UTC): '10/13/2025 3:53:31 AM'.
2025-10-13 10:53:31.243 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (3|4|5)
2025-10-13 10:53:31.261 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-13 10:53:31.265 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/1 - 401 0 null 432.4048ms
2025-10-13 10:53:40.057 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/1 - null null
2025-10-13 10:53:40.103 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:53:40.187 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:53:40.205 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 10:53:49.746 +07:00 [INF] Executed DbCommand (263ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:53:50.035 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-10-13 10:53:50.051 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 9848.7301ms
2025-10-13 10:53:50.058 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:53:50.075 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/1 - 500 null text/plain; charset=utf-8 10018.6892ms
2025-10-13 10:53:53.988 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3 - null null
2025-10-13 10:53:53.997 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:53:54.000 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:53:56.050 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:53:56.082 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.UserProfileDto'.
2025-10-13 10:53:56.100 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 2096.5538ms
2025-10-13 10:53:56.111 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:53:56.115 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/3 - 200 null application/json; charset=utf-8 2127.4063ms
2025-10-13 10:54:15.075 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/8 - null null
2025-10-13 10:54:15.090 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:54:15.095 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:54:16.836 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:54:16.876 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.UserProfileDto'.
2025-10-13 10:54:16.882 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 1779.3966ms
2025-10-13 10:54:16.886 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:54:16.889 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/8 - 200 null application/json; charset=utf-8 1814.4858ms
2025-10-13 10:56:51.965 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 10:56:52.188 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 10:56:52.194 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 10:56:52.302 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 10:56:52.304 +07:00 [INF] Hosting environment: Development
2025-10-13 10:56:52.307 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 10:56:52.603 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 10:56:52.797 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 195.2526ms
2025-10-13 10:56:53.015 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 10:56:53.015 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 10:56:53.027 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 11.0174ms
2025-10-13 10:56:53.060 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.5566ms
2025-10-13 10:56:53.130 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 10:56:53.187 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.6951ms
2025-10-13 10:59:52.718 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3 - null null
2025-10-13 10:59:52.903 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:59:52.974 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:59:52.989 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 10:59:57.748 +07:00 [INF] Executed DbCommand (186ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:59:58.127 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdResult'.
2025-10-13 10:59:58.171 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 5180.8333ms
2025-10-13 10:59:58.180 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:59:58.197 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/3 - 200 null application/json; charset=utf-8 5478.8091ms
2025-10-13 11:12:37.595 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 11:12:37.795 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 11:12:37.802 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 11:12:37.923 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 11:12:37.924 +07:00 [INF] Hosting environment: Development
2025-10-13 11:12:37.926 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 11:12:38.538 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 11:12:38.712 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 174.0914ms
2025-10-13 11:12:38.715 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 11:12:38.733 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 17.0637ms
2025-10-13 11:12:38.901 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 11:12:38.942 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.9247ms
2025-10-13 11:12:39.056 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 11:12:39.086 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.0549ms
2025-10-13 11:13:57.658 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/auth/login - application/json 66
2025-10-13 11:13:57.693 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 11:13:57.748 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 11:13:57.819 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CollabSphere.Application.DTOs.User.LoginRequestDTO) on controller CollabSphere.API.Controllers.AuthController (CollabSphere.API).
2025-10-13 11:13:57.834 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 11:14:02.862 +07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__email_0='?', @__password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
WHERE u.email = @__email_0 AND u.password = @__password_1 AND u.is_active
LIMIT 1
2025-10-13 11:14:03.616 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "user" SET created_date = @p0, email = @p1, is_active = @p2, is_teacher = @p3, password = @p4, refresh_token = @p5, refresh_token_expiry_time = @p6, role_id = @p7
WHERE u_id = @p8;
2025-10-13 11:14:03.782 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.LoginResponseDTO'.
2025-10-13 11:14:03.816 +07:00 [INF] Executed action CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API) in 5981.375ms
2025-10-13 11:14:03.823 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 11:14:03.841 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/auth/login - 200 null application/json; charset=utf-8 6182.0593ms
2025-10-13 11:14:18.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3 - null null
2025-10-13 11:14:18.973 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 11:14:18.994 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 11:14:19.170 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-10-13 11:14:19.179 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 175.5307ms
2025-10-13 11:14:19.186 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 11:14:19.192 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/3 - 500 null text/plain; charset=utf-8 328.4413ms
