2025-10-13 10:47:51.974 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 10:47:52.590 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 10:47:52.594 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 10:47:52.724 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 10:47:52.727 +07:00 [INF] Hosting environment: Development
2025-10-13 10:47:52.731 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 10:47:53.681 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 10:47:54.031 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 364.243ms
2025-10-13 10:47:54.059 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 10:47:54.077 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 18.4934ms
2025-10-13 10:47:54.263 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 10:47:54.344 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.7053ms
2025-10-13 10:47:54.413 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 10:47:54.455 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.7422ms
2025-10-13 10:48:02.863 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/1 - null null
2025-10-13 10:48:06.226 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (3|4|5)
2025-10-13 10:48:06.248 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-13 10:48:06.256 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/1 - 401 0 null 3393.1575ms
2025-10-13 10:48:34.724 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/auth/login - application/json 61
2025-10-13 10:48:34.767 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 10:48:34.781 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 10:48:34.867 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CollabSphere.Application.DTOs.User.LoginRequestDTO) on controller CollabSphere.API.Controllers.AuthController (CollabSphere.API).
2025-10-13 10:48:34.883 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 10:48:44.804 +07:00 [INF] Executed DbCommand (215ms) [Parameters=[@__email_0='?', @__password_1='?'], CommandType='"Text"', CommandTimeout='30']
2025-10-13 12:17:39.505 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 12:17:39.605 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 12:17:39.606 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 12:17:39.661 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 12:17:39.662 +07:00 [INF] Hosting environment: Development
2025-10-13 12:17:39.663 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 12:17:39.962 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 12:17:40.063 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 102.237ms
2025-10-13 12:17:40.077 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 12:17:40.077 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 12:17:40.084 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 7.4449ms
2025-10-13 12:17:40.098 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 21.0281ms
2025-10-13 12:17:41.127 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 12:17:41.149 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.6693ms
2025-10-13 13:10:59.017 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 13:10:59.244 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 13:10:59.247 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 13:10:59.306 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 13:10:59.307 +07:00 [INF] Hosting environment: Development
2025-10-13 13:10:59.308 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 13:10:59.972 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 13:11:00.143 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 13:11:00.143 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 178.2508ms
2025-10-13 13:11:00.153 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 10.8048ms
2025-10-13 13:11:00.249 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 13:11:00.293 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.567ms
2025-10-13 13:11:00.379 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 13:11:00.402 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.8457ms
2025-10-13 13:11:52.931 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/auth/login - application/json 61
2025-10-13 13:11:52.954 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 13:11:53.087 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 13:11:53.125 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CollabSphere.Application.DTOs.User.LoginRequestDTO) on controller CollabSphere.API.Controllers.AuthController (CollabSphere.API).
2025-10-13 13:11:53.136 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 13:11:57.387 +07:00 [INF] Executed DbCommand (129ms) [Parameters=[@__email_0='?', @__password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
WHERE u.email = @__email_0 AND u.password = @__password_1 AND u.is_active
LIMIT 1
2025-10-13 10:48:46.062 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "user" SET created_date = @p0, email = @p1, is_active = @p2, is_teacher = @p3, password = @p4, refresh_token = @p5, refresh_token_expiry_time = @p6, role_id = @p7
WHERE u_id = @p8;
2025-10-13 10:48:46.298 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.LoginResponseDTO'.
2025-10-13 10:48:46.348 +07:00 [INF] Executed action CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API) in 11464.7919ms
2025-10-13 10:48:46.359 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 10:48:46.385 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/auth/login - 200 null application/json; charset=utf-8 11663.8479ms
2025-10-13 10:49:05.258 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/1 - null null
2025-10-13 10:49:05.383 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:49:05.408 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:49:08.799 +07:00 [INF] Executed DbCommand (116ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:50:24.663 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 10:50:25.072 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 10:50:25.077 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 10:50:25.259 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 10:50:25.263 +07:00 [INF] Hosting environment: Development
2025-10-13 10:50:25.266 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 10:50:25.596 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 10:50:25.857 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 269.5052ms
2025-10-13 10:50:25.861 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 10:50:25.894 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 32.1691ms
2025-10-13 10:50:26.045 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 10:50:26.136 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 92.7573ms
2025-10-13 10:50:26.218 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 10:50:26.261 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 43.9785ms
2025-10-13 10:50:52.749 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3 - null null
2025-10-13 10:50:53.138 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:50:53.217 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:50:53.233 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 10:51:02.278 +07:00 [INF] Executed DbCommand (238ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:51:13.361 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 10:51:13.770 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 10:51:13.774 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 10:51:13.901 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 10:51:13.904 +07:00 [INF] Hosting environment: Development
2025-10-13 10:51:13.908 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 10:51:14.301 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 10:51:14.548 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 256.5882ms
2025-10-13 10:51:14.555 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 10:51:14.579 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 25.1911ms
2025-10-13 10:51:14.741 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 10:51:14.825 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.2953ms
2025-10-13 10:51:14.896 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 10:51:14.930 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 34.4918ms
2025-10-13 10:51:29.573 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 10:51:30.003 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 10:51:30.010 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 10:51:30.168 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 10:51:30.173 +07:00 [INF] Hosting environment: Development
2025-10-13 10:51:30.176 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 10:51:30.596 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 10:51:30.867 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 279.5785ms
2025-10-13 10:51:30.875 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 10:51:30.898 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 23.3641ms
2025-10-13 10:51:31.090 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 10:51:31.200 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 110.9942ms
2025-10-13 10:51:31.278 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 10:51:31.319 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.7898ms
2025-10-13 10:51:44.652 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/1 - null null
2025-10-13 10:51:44.981 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:51:45.063 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:51:45.078 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 10:51:52.441 +07:00 [INF] Executed DbCommand (106ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
2025-10-13 13:11:58.019 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "user" SET created_date = @p0, email = @p1, is_active = @p2, is_teacher = @p3, password = @p4, refresh_token = @p5, refresh_token_expiry_time = @p6, role_id = @p7
WHERE u_id = @p8;
2025-10-13 13:11:58.165 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.LoginResponseDTO'.
2025-10-13 13:11:58.190 +07:00 [INF] Executed action CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API) in 5056.2909ms
2025-10-13 13:11:58.193 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 13:11:58.203 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/auth/login - 200 null application/json; charset=utf-8 5272.4013ms
2025-10-13 13:12:25.603 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/team/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundaryTfMuD6ASDX8c53Nf 13620
2025-10-13 13:12:25.621 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 13:12:25.707 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:12:25.721 +07:00 [INF] Route matched with {action = "UploadAvatar", controller = "Team"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadAvatar(CollabSphere.Application.Features.Team.Commands.TeamUploadAvatarCommand) on controller CollabSphere.API.Controllers.TeamController (CollabSphere.API).
2025-10-13 13:12:25.942 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name
FROM team AS t
WHERE t.team_id = @__p_0
LIMIT 1
2025-10-13 13:12:25.955 +07:00 [INF] Executing ObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 13:12:25.973 +07:00 [INF] Executed action CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API) in 246.6282ms
2025-10-13 13:12:25.980 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:12:25.986 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/team/upload-avatar - 500 null application/json; charset=utf-8 381.7256ms
2025-10-13 13:12:34.439 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/team/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundarywkQ5rnejFh6Y5lWg 13617
2025-10-13 13:12:34.444 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 13:12:34.449 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:12:34.451 +07:00 [INF] Route matched with {action = "UploadAvatar", controller = "Team"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadAvatar(CollabSphere.Application.Features.Team.Commands.TeamUploadAvatarCommand) on controller CollabSphere.API.Controllers.TeamController (CollabSphere.API).
2025-10-13 13:12:34.525 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name
FROM team AS t
WHERE t.team_id = @__p_0
LIMIT 1
2025-10-13 13:12:34.754 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:53:02.049 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 10:53:02.504 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 10:53:02.513 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 10:53:02.671 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 10:53:02.678 +07:00 [INF] Hosting environment: Development
2025-10-13 10:53:02.685 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 10:53:03.235 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 10:53:03.498 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 273.9635ms
2025-10-13 10:53:03.503 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 10:53:03.536 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 32.8614ms
2025-10-13 10:53:03.706 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 10:53:03.840 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 135.2622ms
2025-10-13 10:53:03.922 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 10:53:03.969 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.4752ms
2025-10-13 10:53:30.836 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/1 - null null
2025-10-13 10:53:31.124 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/10/2025 7:43:04 PM', Current time (UTC): '10/13/2025 3:53:31 AM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-10-13 10:53:31.221 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/10/2025 7:43:04 PM', Current time (UTC): '10/13/2025 3:53:31 AM'.
2025-10-13 10:53:31.243 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (3|4|5)
2025-10-13 10:53:31.261 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-13 10:53:31.265 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/1 - 401 0 null 432.4048ms
2025-10-13 10:53:40.057 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/1 - null null
2025-10-13 10:53:40.103 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:53:40.187 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:53:40.205 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 10:53:49.746 +07:00 [INF] Executed DbCommand (263ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:53:50.035 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-10-13 10:53:50.051 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 9848.7301ms
2025-10-13 10:53:50.058 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:53:50.075 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/1 - 500 null text/plain; charset=utf-8 10018.6892ms
2025-10-13 10:53:53.988 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3 - null null
2025-10-13 10:53:53.997 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:53:54.000 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:53:56.050 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
2025-10-13 13:12:53.107 +07:00 [INF] Executing ObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 13:12:53.109 +07:00 [INF] Executed action CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API) in 18654.5297ms
2025-10-13 13:12:53.111 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:12:53.112 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/team/upload-avatar - 500 null application/json; charset=utf-8 18673.3332ms
2025-10-13 13:13:14.650 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 13:13:14.871 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 13:13:14.873 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 13:13:14.950 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 13:13:14.952 +07:00 [INF] Hosting environment: Development
2025-10-13 13:13:14.955 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 13:13:15.390 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 13:13:15.556 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 13:13:15.557 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 177.2009ms
2025-10-13 13:13:15.569 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 12.6184ms
2025-10-13 13:13:15.669 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 13:13:15.710 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.8798ms
2025-10-13 13:13:15.752 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 13:13:15.770 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.0179ms
2025-10-13 13:13:30.442 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/team/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundaryHjj1CZFrfAzQrjcB 13617
2025-10-13 13:13:30.455 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 13:13:30.603 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:13:30.642 +07:00 [INF] Route matched with {action = "UploadAvatar", controller = "Team"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadAvatar(CollabSphere.Application.Features.Team.Commands.TeamUploadAvatarCommand) on controller CollabSphere.API.Controllers.TeamController (CollabSphere.API).
2025-10-13 13:13:30.651 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 13:13:35.194 +07:00 [INF] Executed DbCommand (134ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name
FROM team AS t
WHERE t.team_id = @__p_0
LIMIT 1
2025-10-13 13:13:35.552 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:53:56.082 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.UserProfileDto'.
2025-10-13 10:53:56.100 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 2096.5538ms
2025-10-13 10:53:56.111 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:53:56.115 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/3 - 200 null application/json; charset=utf-8 2127.4063ms
2025-10-13 10:54:15.075 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/8 - null null
2025-10-13 10:54:15.090 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:54:15.095 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:54:16.836 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:54:16.876 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.UserProfileDto'.
2025-10-13 10:54:16.882 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 1779.3966ms
2025-10-13 10:54:16.886 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:54:16.889 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/8 - 200 null application/json; charset=utf-8 1814.4858ms
2025-10-13 10:56:51.965 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 10:56:52.188 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 10:56:52.194 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 10:56:52.302 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 10:56:52.304 +07:00 [INF] Hosting environment: Development
2025-10-13 10:56:52.307 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 10:56:52.603 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 10:56:52.797 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 195.2526ms
2025-10-13 10:56:53.015 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 10:56:53.015 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 10:56:53.027 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 11.0174ms
2025-10-13 10:56:53.060 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.5566ms
2025-10-13 10:56:53.130 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 10:56:53.187 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.6951ms
2025-10-13 10:59:52.718 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3 - null null
2025-10-13 10:59:52.903 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:59:52.974 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 10:59:52.989 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 10:59:57.748 +07:00 [INF] Executed DbCommand (186ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
2025-10-13 13:13:35.578 +07:00 [INF] Executing ObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 13:13:35.606 +07:00 [INF] Executed action CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API) in 4955.7125ms
2025-10-13 13:13:35.611 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:13:35.622 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/team/upload-avatar - 500 null application/json; charset=utf-8 5180.3435ms
2025-10-13 13:13:43.450 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/team/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundarytHpIqRbBEA7cVzvX 13614
2025-10-13 13:13:43.460 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 13:13:43.464 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:13:43.467 +07:00 [INF] Route matched with {action = "UploadAvatar", controller = "Team"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadAvatar(CollabSphere.Application.Features.Team.Commands.TeamUploadAvatarCommand) on controller CollabSphere.API.Controllers.TeamController (CollabSphere.API).
2025-10-13 13:13:43.642 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name
FROM team AS t
WHERE t.team_id = @__p_0
LIMIT 1
2025-10-13 13:13:43.710 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 10:59:58.127 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdResult'.
2025-10-13 10:59:58.171 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 5180.8333ms
2025-10-13 10:59:58.180 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 10:59:58.197 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/3 - 200 null application/json; charset=utf-8 5478.8091ms
2025-10-13 11:12:37.595 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 11:12:37.795 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 11:12:37.802 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 11:12:37.923 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 11:12:37.924 +07:00 [INF] Hosting environment: Development
2025-10-13 11:12:37.926 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 11:12:38.538 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 11:12:38.712 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 174.0914ms
2025-10-13 11:12:38.715 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 11:12:38.733 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 17.0637ms
2025-10-13 11:12:38.901 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 11:12:38.942 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.9247ms
2025-10-13 11:12:39.056 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 11:12:39.086 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 30.0549ms
2025-10-13 11:13:57.658 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/auth/login - application/json 66
2025-10-13 11:13:57.693 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 11:13:57.748 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 11:13:57.819 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CollabSphere.Application.DTOs.User.LoginRequestDTO) on controller CollabSphere.API.Controllers.AuthController (CollabSphere.API).
2025-10-13 11:13:57.834 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 11:14:02.862 +07:00 [INF] Executed DbCommand (153ms) [Parameters=[@__email_0='?', @__password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
WHERE u.email = @__email_0 AND u.password = @__password_1 AND u.is_active
LIMIT 1
2025-10-13 11:14:03.616 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "user" SET created_date = @p0, email = @p1, is_active = @p2, is_teacher = @p3, password = @p4, refresh_token = @p5, refresh_token_expiry_time = @p6, role_id = @p7
WHERE u_id = @p8;
2025-10-13 11:14:03.782 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.LoginResponseDTO'.
2025-10-13 11:14:03.816 +07:00 [INF] Executed action CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API) in 5981.375ms
2025-10-13 11:14:03.823 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 11:14:03.841 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/auth/login - 200 null application/json; charset=utf-8 6182.0593ms
2025-10-13 11:14:18.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3 - null null
2025-10-13 11:14:18.973 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 11:14:18.994 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 11:14:19.170 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-10-13 11:14:19.179 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 175.5307ms
2025-10-13 11:14:19.186 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 11:14:19.192 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/3 - 500 null text/plain; charset=utf-8 328.4413ms
2025-10-13 13:57:04.914 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 13:57:05.014 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 13:57:05.015 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 13:57:05.068 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 13:57:05.070 +07:00 [INF] Hosting environment: Development
2025-10-13 13:57:05.071 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 13:57:05.590 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 13:57:05.707 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 118.1303ms
2025-10-13 13:57:05.836 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 13:57:05.836 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 13:57:05.847 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 11.49ms
2025-10-13 13:57:05.860 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.7675ms
2025-10-13 13:57:05.900 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 13:57:05.917 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.5359ms
2025-10-13 13:57:23.439 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3 - null null
2025-10-13 13:57:23.557 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 13:57:23.597 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 13:57:23.606 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 13:57:27.733 +07:00 [INF] Executed DbCommand (105ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 13:57:27.944 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdResult'.
2025-10-13 13:57:27.965 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 4359.4655ms
2025-10-13 13:57:27.968 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 13:57:27.973 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/3 - 200 null application/json; charset=utf-8 4534.6488ms
2025-10-13 13:57:34.693 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/111 - null null
2025-10-13 13:57:34.708 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 13:57:34.713 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 13:57:34.851 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 13:57:34.857 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-10-13 13:57:34.859 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 141.1847ms
2025-10-13 13:57:34.861 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 13:57:34.862 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/111 - 500 null text/plain; charset=utf-8 169.982ms
2025-10-13 13:59:41.969 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 13:59:42.072 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 13:59:42.088 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 13:59:42.143 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 13:59:42.146 +07:00 [INF] Hosting environment: Development
2025-10-13 13:59:42.149 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 13:59:42.707 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 13:59:42.811 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 104.2308ms
2025-10-13 13:59:42.814 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 13:59:42.828 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 13.7502ms
2025-10-13 13:59:42.923 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 13:59:42.953 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.0035ms
2025-10-13 13:59:42.998 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 13:59:43.013 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.3838ms
2025-10-13 13:59:57.080 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/123123 - null null
2025-10-13 13:59:57.189 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 13:59:57.228 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 13:59:57.236 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 14:00:01.212 +07:00 [INF] Executed DbCommand (122ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
2025-10-13 13:13:43.808 +07:00 [INF] Executing ObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 13:13:43.811 +07:00 [INF] Executed action CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API) in 339.4257ms
2025-10-13 13:13:43.812 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:13:43.814 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/team/upload-avatar - 500 null application/json; charset=utf-8 364.4017ms
2025-10-13 13:13:52.013 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/team/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundaryfBo6CWjsT0Ae8LOj 13614
2025-10-13 13:13:52.018 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 13:13:52.021 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:13:52.026 +07:00 [INF] Route matched with {action = "UploadAvatar", controller = "Team"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadAvatar(CollabSphere.Application.Features.Team.Commands.TeamUploadAvatarCommand) on controller CollabSphere.API.Controllers.TeamController (CollabSphere.API).
2025-10-13 13:13:52.119 +07:00 [INF] Executed DbCommand (55ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name
FROM team AS t
WHERE t.team_id = @__p_0
LIMIT 1
2025-10-13 13:13:52.180 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 14:00:01.244 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-10-13 14:00:01.252 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 4014.6438ms
2025-10-13 14:00:01.255 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:00:01.264 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/123123 - 500 0 text/plain; charset=utf-8 4184.4877ms
2025-10-13 14:00:35.530 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 14:00:35.631 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 14:00:35.633 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 14:00:35.686 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 14:00:35.687 +07:00 [INF] Hosting environment: Development
2025-10-13 14:00:35.687 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 14:00:36.308 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 14:00:36.409 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 101.6585ms
2025-10-13 14:00:36.414 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 14:00:36.424 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 10.0455ms
2025-10-13 14:00:36.524 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 14:00:36.554 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.1317ms
2025-10-13 14:00:36.602 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 14:00:36.620 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.3202ms
2025-10-13 14:00:51.123 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/312 - null null
2025-10-13 14:00:51.178 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-10-13 14:00:51.224 +07:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-10-13 14:00:51.239 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-13 14:00:51.253 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-10-13 14:00:51.259 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/312 - 401 0 null 136.2355ms
2025-10-13 14:01:02.016 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/312 - null null
2025-10-13 14:01:02.088 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:01:02.122 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 14:01:02.130 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 14:01:05.071 +07:00 [INF] Executed DbCommand (91ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 14:01:05.113 +07:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-10-13 14:01:05.120 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 2990.7782ms
2025-10-13 14:01:05.123 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:01:05.130 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/312 - 500 0 text/plain; charset=utf-8 3114.6469ms
2025-10-13 14:03:27.845 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 14:03:28.057 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 14:03:28.059 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 14:03:28.145 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 14:03:28.147 +07:00 [INF] Hosting environment: Development
2025-10-13 14:03:28.148 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 14:03:28.566 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 14:03:28.723 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 166.185ms
2025-10-13 14:03:28.727 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 14:03:28.737 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 11.3375ms
2025-10-13 14:03:28.834 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 14:03:28.874 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.9976ms
2025-10-13 14:03:28.913 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 14:03:28.930 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.568ms
2025-10-13 14:03:45.777 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/333 - null null
2025-10-13 14:03:45.955 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:03:45.996 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 14:03:46.002 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 14:03:54.609 +07:00 [INF] Executed DbCommand (96ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 14:05:05.510 +07:00 [INF] Executing ObjectResult, writing value of type 'CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdResult'.
2025-10-13 14:05:05.529 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 79523.8407ms
2025-10-13 14:05:05.531 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:05:05.537 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/333 - 500 null application/json; charset=utf-8 79760.272ms
2025-10-13 14:05:28.373 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 14:05:28.472 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 14:05:28.474 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 14:05:28.528 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 14:05:28.556 +07:00 [INF] Hosting environment: Development
2025-10-13 14:05:28.559 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 14:05:29.172 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 14:05:29.282 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 111.435ms
2025-10-13 14:05:29.286 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 14:05:29.297 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 10.4833ms
2025-10-13 14:05:29.400 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 14:05:29.425 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.0477ms
2025-10-13 14:05:29.478 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 14:05:29.502 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.4155ms
2025-10-13 14:05:39.763 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3 - null null
2025-10-13 14:05:39.879 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:05:39.916 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 14:05:39.924 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 14:05:43.362 +07:00 [INF] Executed DbCommand (169ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
2025-10-13 13:14:20.323 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name
FROM team AS t
WHERE t.team_id = @__p_0
LIMIT 1
2025-10-13 13:14:29.356 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Date), @p2='?', @p3='?' (DbType = Date), @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Single), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?', @p13='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE team SET class_id = @p0, created_date = @p1, description = @p2, end_date = @p3, enrol_key = @p4, git_link = @p5, leader_id = @p6, lecturer_id = @p7, lecturer_name = @p8, progress = @p9, project_assignment_id = @p10, status = @p11, team_image = @p12, team_name = @p13
WHERE team_id = @p14;
2025-10-13 13:14:31.475 +07:00 [INF] Executing ObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 13:14:31.478 +07:00 [INF] Executed action CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API) in 39450.2534ms
2025-10-13 13:14:31.482 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:14:31.484 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/team/upload-avatar - 500 null application/json; charset=utf-8 39471.3462ms
2025-10-13 13:15:46.075 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/avatar-url?publicId=team-avatars%2Fuv7sd9acaahgoqzbyqaf - null null
2025-10-13 13:15:46.087 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetAvatarUrl (CollabSphere.API)'
2025-10-13 13:15:46.098 +07:00 [INF] Route matched with {action = "GetAvatarUrl", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvatarUrl(System.String) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 13:15:46.117 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-10-13 13:15:46.123 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetAvatarUrl (CollabSphere.API) in 20.6012ms
2025-10-13 13:15:46.132 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetAvatarUrl (CollabSphere.API)'
2025-10-13 13:15:46.138 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/avatar-url?publicId=team-avatars%2Fuv7sd9acaahgoqzbyqaf - 200 null text/plain; charset=utf-8 62.0311ms
2025-10-13 13:18:39.822 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 13:18:39.925 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 13:18:39.929 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 13:18:39.992 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 13:18:39.994 +07:00 [INF] Hosting environment: Development
2025-10-13 13:18:39.996 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 13:18:40.488 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 13:18:40.591 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 103.6614ms
2025-10-13 13:18:40.595 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 13:18:40.607 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 11.8078ms
2025-10-13 13:18:40.699 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 13:18:40.734 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 35.1523ms
2025-10-13 13:18:40.774 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 13:18:40.790 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.2213ms
2025-10-13 13:18:51.906 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/avatar/avatar-url?publicId=team-avatars%2Fuv7sd9acaahgoqzbyqaf - null null
2025-10-13 13:18:51.930 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.AvatarController.GetAvatarUrl (CollabSphere.API)'
2025-10-13 13:18:51.949 +07:00 [INF] Route matched with {action = "GetAvatarUrl", controller = "Avatar"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvatarUrl(System.String) on controller CollabSphere.API.Controllers.AvatarController (CollabSphere.API).
2025-10-13 13:18:51.955 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 13:18:51.977 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-10-13 13:18:51.985 +07:00 [INF] Executed action CollabSphere.API.Controllers.AvatarController.GetAvatarUrl (CollabSphere.API) in 30.1536ms
2025-10-13 13:18:51.987 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.AvatarController.GetAvatarUrl (CollabSphere.API)'
2025-10-13 13:18:51.988 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/avatar/avatar-url?publicId=team-avatars%2Fuv7sd9acaahgoqzbyqaf - 200 null text/plain; charset=utf-8 81.7617ms
2025-10-13 13:29:24.222 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 13:29:24.435 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 13:29:24.437 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 13:29:24.513 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 13:29:24.515 +07:00 [INF] Hosting environment: Development
2025-10-13 13:29:24.517 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 13:29:24.802 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 13:29:24.944 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 148.5397ms
2025-10-13 13:29:24.947 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 13:29:24.958 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 11.6514ms
2025-10-13 13:29:25.057 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 13:29:25.096 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.4151ms
2025-10-13 13:29:25.134 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 13:29:25.153 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.1513ms
2025-10-13 13:29:34.116 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 13:29:34.327 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 13:29:34.329 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 13:29:34.431 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 13:29:34.433 +07:00 [INF] Hosting environment: Development
2025-10-13 13:29:34.434 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 13:29:34.664 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 13:29:34.836 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 176.9084ms
2025-10-13 13:29:34.837 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 13:29:34.848 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 11.4498ms
2025-10-13 13:29:34.947 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 13:29:34.982 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.5383ms
2025-10-13 13:29:35.034 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 13:29:35.054 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.5969ms
2025-10-13 13:30:09.794 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/team/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundaryciFGUmqiSxHO6ELw 13614
2025-10-13 13:30:09.808 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 13:30:09.901 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:30:09.920 +07:00 [INF] Route matched with {action = "UploadAvatar", controller = "Team"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadAvatar(CollabSphere.Application.Features.Team.Commands.TeamUploadAvatarCommand) on controller CollabSphere.API.Controllers.TeamController (CollabSphere.API).
2025-10-13 13:30:09.926 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 13:30:12.273 +07:00 [INF] Executed DbCommand (121ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name
FROM team AS t
WHERE t.team_id = @__p_0
LIMIT 1
2025-10-13 13:30:12.457 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 14:05:43.604 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 14:05:43.619 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdResult'.
2025-10-13 14:05:43.646 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 3722.5981ms
2025-10-13 14:05:43.649 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:05:43.657 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/3 - 200 null application/json; charset=utf-8 3893.6343ms
2025-10-13 14:06:01.556 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3333 - null null
2025-10-13 14:06:01.570 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:06:01.574 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 14:06:01.703 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 14:06:01.708 +07:00 [INF] Executing ObjectResult, writing value of type 'CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdResult'.
2025-10-13 14:06:01.712 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 135.5127ms
2025-10-13 14:06:01.715 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:06:01.716 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/3333 - 500 null application/json; charset=utf-8 160.6633ms
2025-10-13 14:08:17.392 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3 - null null
2025-10-13 14:08:17.401 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:08:17.403 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 14:08:17.470 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
2025-10-13 13:30:12.586 +07:00 [INF] Executed DbCommand (71ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name
FROM team AS t
WHERE t.team_id = @__p_0
LIMIT 1
2025-10-13 13:30:30.752 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Date), @p2='?', @p3='?' (DbType = Date), @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Single), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?', @p13='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE team SET class_id = @p0, created_date = @p1, description = @p2, end_date = @p3, enrol_key = @p4, git_link = @p5, leader_id = @p6, lecturer_id = @p7, lecturer_name = @p8, progress = @p9, project_assignment_id = @p10, status = @p11, team_image = @p12, team_name = @p13
WHERE team_id = @p14;
2025-10-13 13:30:37.058 +07:00 [INF] Executing ObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 13:30:37.070 +07:00 [INF] Executed action CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API) in 27144.1284ms
2025-10-13 13:30:37.077 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:30:37.102 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/team/upload-avatar - 500 null application/json; charset=utf-8 27307.3373ms
2025-10-13 13:31:13.910 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 13:31:14.016 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 13:31:14.020 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 13:31:14.076 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 13:31:14.079 +07:00 [INF] Hosting environment: Development
2025-10-13 13:31:14.080 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 13:31:14.613 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 13:31:14.719 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 107.2869ms
2025-10-13 13:31:14.845 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 13:31:14.845 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 13:31:14.854 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 8.2556ms
2025-10-13 13:31:14.870 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.4586ms
2025-10-13 13:31:14.903 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 13:31:14.919 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.2506ms
2025-10-13 13:31:31.401 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/team/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundaryZHLmSqEoRimC2hL6 13614
2025-10-13 13:31:31.410 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 13:31:31.456 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:31:31.473 +07:00 [INF] Route matched with {action = "UploadAvatar", controller = "Team"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadAvatar(CollabSphere.Application.Features.Team.Commands.TeamUploadAvatarCommand) on controller CollabSphere.API.Controllers.TeamController (CollabSphere.API).
2025-10-13 13:31:31.479 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 13:31:34.286 +07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name
FROM team AS t
WHERE t.team_id = @__p_0
LIMIT 1
2025-10-13 13:31:34.481 +07:00 [INF] Executed DbCommand (56ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 14:08:17.516 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 14:08:17.525 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdResult'.
2025-10-13 14:08:17.529 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 122.6733ms
2025-10-13 14:08:17.533 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:08:17.536 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/3 - 200 null application/json; charset=utf-8 143.9364ms
2025-10-13 14:08:23.949 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3123 - null null
2025-10-13 14:08:23.956 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:08:23.959 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 14:08:24.002 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 14:08:24.012 +07:00 [INF] Executing ObjectResult, writing value of type 'CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdResult'.
2025-10-13 14:08:24.015 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 52.6081ms
2025-10-13 14:08:24.020 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:08:24.023 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/3123 - 500 null application/json; charset=utf-8 74.1766ms
2025-10-13 14:08:26.966 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/user/profile/3 - null null
2025-10-13 14:08:26.971 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:08:26.973 +07:00 [INF] Route matched with {action = "GetUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserProfile(CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdQuery, System.Threading.CancellationToken) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 14:08:27.014 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
2025-10-13 13:31:34.593 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name
FROM team AS t
WHERE t.team_id = @__p_0
LIMIT 1
2025-10-13 13:31:37.058 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Date), @p2='?', @p3='?' (DbType = Date), @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Single), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?', @p13='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE team SET class_id = @p0, created_date = @p1, description = @p2, end_date = @p3, enrol_key = @p4, git_link = @p5, leader_id = @p6, lecturer_id = @p7, lecturer_name = @p8, progress = @p9, project_assignment_id = @p10, status = @p11, team_image = @p12, team_name = @p13
WHERE team_id = @p14;
2025-10-13 13:31:37.634 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 13:31:37.645 +07:00 [INF] Executed action CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API) in 6166.742ms
2025-10-13 13:31:37.647 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:31:37.653 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/team/upload-avatar - 200 null application/json; charset=utf-8 6251.7656ms
2025-10-13 13:32:25.952 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 13:32:25.962 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 10.1353ms
2025-10-13 13:32:25.972 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 13:32:25.977 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 5.7951ms
2025-10-13 13:32:26.090 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 13:32:26.103 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.6132ms
2025-10-13 13:32:26.169 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 13:32:26.183 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.7756ms
2025-10-13 13:32:42.748 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/team/upload-avatar - multipart/form-data; boundary=----WebKitFormBoundarykzDWBHyrHZKU1Fik 13614
2025-10-13 13:32:42.764 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 13:32:42.767 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:32:42.769 +07:00 [INF] Route matched with {action = "UploadAvatar", controller = "Team"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadAvatar(CollabSphere.Application.Features.Team.Commands.TeamUploadAvatarCommand) on controller CollabSphere.API.Controllers.TeamController (CollabSphere.API).
2025-10-13 13:32:42.883 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name
FROM team AS t
WHERE t.team_id = @__p_0
LIMIT 1
2025-10-13 13:32:42.947 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 14:08:27.058 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 14:08:27.067 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Features.User.Queries.GetUserById.GetUserProfileByIdResult'.
2025-10-13 14:08:27.076 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API) in 99.4192ms
2025-10-13 14:08:27.082 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.GetUserProfile (CollabSphere.API)'
2025-10-13 14:08:27.085 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/user/profile/3 - 200 null application/json; charset=utf-8 117.9107ms
2025-10-13 13:32:43.027 +07:00 [INF] Executed DbCommand (74ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name
FROM team AS t
WHERE t.team_id = @__p_0
LIMIT 1
2025-10-13 13:32:45.218 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@p14='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Date), @p2='?', @p3='?' (DbType = Date), @p4='?', @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?', @p9='?' (DbType = Single), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?', @p13='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE team SET class_id = @p0, created_date = @p1, description = @p2, end_date = @p3, enrol_key = @p4, git_link = @p5, leader_id = @p6, lecturer_id = @p7, lecturer_name = @p8, progress = @p9, project_assignment_id = @p10, status = @p11, team_image = @p12, team_name = @p13
WHERE team_id = @p14;
2025-10-13 13:32:45.743 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 13:32:45.750 +07:00 [INF] Executed action CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API) in 2978.4276ms
2025-10-13 13:32:45.753 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.TeamController.UploadAvatar (CollabSphere.API)'
2025-10-13 13:32:45.754 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/team/upload-avatar - 200 null application/json; charset=utf-8 3006.6455ms
2025-10-13 13:34:08.860 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/api/avatar/avatar-url?publicId=avatars%2Fobpgbuicvfkqt27hm1dp - null null
2025-10-13 13:34:08.867 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.AvatarController.GetAvatarUrl (CollabSphere.API)'
2025-10-13 13:34:08.873 +07:00 [INF] Route matched with {action = "GetAvatarUrl", controller = "Avatar"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvatarUrl(System.String) on controller CollabSphere.API.Controllers.AvatarController (CollabSphere.API).
2025-10-13 13:34:08.887 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-10-13 13:34:08.890 +07:00 [INF] Executed action CollabSphere.API.Controllers.AvatarController.GetAvatarUrl (CollabSphere.API) in 13.0837ms
2025-10-13 13:34:08.894 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.AvatarController.GetAvatarUrl (CollabSphere.API)'
2025-10-13 13:34:08.895 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/api/avatar/avatar-url?publicId=avatars%2Fobpgbuicvfkqt27hm1dp - 200 null text/plain; charset=utf-8 34.2547ms
2025-10-13 14:50:47.724 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 14:50:47.913 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 14:50:47.915 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 14:50:47.977 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 14:50:47.979 +07:00 [INF] Hosting environment: Development
2025-10-13 14:50:47.979 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 14:50:48.255 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 14:50:48.412 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 162.827ms
2025-10-13 14:50:48.418 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 14:50:48.437 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 19.0504ms
2025-10-13 14:50:48.536 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 14:50:48.582 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.309ms
2025-10-13 14:50:48.617 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 14:50:48.644 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.6338ms
2025-10-13 14:51:01.272 +07:00 [INF] Request starting HTTP/2 PATCH https://localhost:7264/api/class/1/assign-lecturer?LecturerId=16 - null null
2025-10-13 14:51:01.289 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 14:51:01.477 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.ClassController.AssignLecturerToClass (CollabSphere.API)'
2025-10-13 14:51:01.525 +07:00 [INF] Route matched with {action = "AssignLecturerToClass", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignLecturerToClass(CollabSphere.Application.Features.Classes.Commands.AssignLec.AssignLecturerToClassCommand) on controller CollabSphere.API.Controllers.ClassController (CollabSphere.API).
2025-10-13 14:51:01.552 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 14:51:04.089 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-13 14:51:05.528 +07:00 [INF] Executed DbCommand (152ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob, c1.file_id, c1.class_id, c1.file_path, c1.type, s3.project_assignment_id, s3.assigned_date, s3.class_id, s3.project_id, s3.status, s3.project_id0, s3.description, s3.lecturer_id, s3.project_name, s3.status0, s3.subject_id, s4.team_id, s4.class_id, s4.created_date, s4.description, s4.end_date, s4.enrol_key, s4.git_link, s4.leader_id, s4.lecturer_id, s4.lecturer_name, s4.progress, s4.project_assignment_id, s4.status, s4.team_image, s4.team_name, s4.project_assignment_id0, s4.assigned_date, s4.class_id0, s4.project_id, s4.status0, s4.project_id0, s4.description0, s4.lecturer_id0, s4.project_name, s4.status1, s4.subject_id
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
LEFT JOIN class_file AS c1 ON s1.class_id = c1.class_id
LEFT JOIN (
    SELECT p.project_assignment_id, p.assigned_date, p.class_id, p.project_id, p.status, p0.project_id AS project_id0, p0.description, p0.lecturer_id, p0.project_name, p0.status AS status0, p0.subject_id
    FROM project_assignment AS p
    INNER JOIN project AS p0 ON p.project_id = p0.project_id
) AS s3 ON s1.class_id = s3.class_id
LEFT JOIN (
    SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name, p1.project_assignment_id AS project_assignment_id0, p1.assigned_date, p1.class_id AS class_id0, p1.project_id, p1.status AS status0, p2.project_id AS project_id0, p2.description AS description0, p2.lecturer_id AS lecturer_id0, p2.project_name, p2.status AS status1, p2.subject_id
    FROM team AS t
    LEFT JOIN project_assignment AS p1 ON t.project_assignment_id = p1.project_assignment_id
    LEFT JOIN project AS p2 ON p1.project_id = p2.project_id
) AS s4 ON s1.class_id = s4.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id, s2.student_id0, c1.file_id, s3.project_assignment_id, s3.project_id0, s4.team_id, s4.project_assignment_id0
2025-10-13 14:51:05.698 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM lecturer AS l
WHERE l.lecturer_id = @__p_0
LIMIT 1
2025-10-13 14:51:05.927 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob, c1.file_id, c1.class_id, c1.file_path, c1.type, s3.project_assignment_id, s3.assigned_date, s3.class_id, s3.project_id, s3.status, s3.project_id0, s3.description, s3.lecturer_id, s3.project_name, s3.status0, s3.subject_id, s4.team_id, s4.class_id, s4.created_date, s4.description, s4.end_date, s4.enrol_key, s4.git_link, s4.leader_id, s4.lecturer_id, s4.lecturer_name, s4.progress, s4.project_assignment_id, s4.status, s4.team_image, s4.team_name, s4.project_assignment_id0, s4.assigned_date, s4.class_id0, s4.project_id, s4.status0, s4.project_id0, s4.description0, s4.lecturer_id0, s4.project_name, s4.status1, s4.subject_id
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
LEFT JOIN class_file AS c1 ON s1.class_id = c1.class_id
LEFT JOIN (
    SELECT p.project_assignment_id, p.assigned_date, p.class_id, p.project_id, p.status, p0.project_id AS project_id0, p0.description, p0.lecturer_id, p0.project_name, p0.status AS status0, p0.subject_id
    FROM project_assignment AS p
    INNER JOIN project AS p0 ON p.project_id = p0.project_id
) AS s3 ON s1.class_id = s3.class_id
LEFT JOIN (
    SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name, p1.project_assignment_id AS project_assignment_id0, p1.assigned_date, p1.class_id AS class_id0, p1.project_id, p1.status AS status0, p2.project_id AS project_id0, p2.description AS description0, p2.lecturer_id AS lecturer_id0, p2.project_name, p2.status AS status1, p2.subject_id
    FROM team AS t
    LEFT JOIN project_assignment AS p1 ON t.project_assignment_id = p1.project_assignment_id
    LEFT JOIN project AS p2 ON p1.project_id = p2.project_id
) AS s4 ON s1.class_id = s4.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id, s2.student_id0, c1.file_id, s3.project_assignment_id, s3.project_id0, s4.team_id, s4.project_assignment_id0
2025-10-13 14:51:06.016 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM lecturer AS l
WHERE l.lecturer_id = @__p_0
LIMIT 1
2025-10-13 14:51:06.365 +07:00 [ERR] Error occurred while assigning lecturer to class.
System.InvalidOperationException: The instance of entity type 'ProjectAssignment' cannot be tracked because another instance with the same key value for {'ProjectAssignmentId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at CollabSphere.Infrastructure.Base.GenericRepository`1.Update(T entity) in D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.Infrastructure\Base\GenericRepository.cs:line 53
   at CollabSphere.Application.Features.Classes.Commands.AssignLec.AssignLecturerToClassHandler.HandleCommand(AssignLecturerToClassCommand request, CancellationToken cancellationToken) in D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.Application\Features\Classes\Commands\AssignLec\AssignLecturerToClassHandler.cs:line 48
2025-10-13 14:51:06.443 +07:00 [INF] Executing ObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 14:51:06.460 +07:00 [INF] Executed action CollabSphere.API.Controllers.ClassController.AssignLecturerToClass (CollabSphere.API) in 4927.8761ms
2025-10-13 14:51:06.464 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.ClassController.AssignLecturerToClass (CollabSphere.API)'
2025-10-13 14:51:06.532 +07:00 [INF] Request finished HTTP/2 PATCH https://localhost:7264/api/class/1/assign-lecturer?LecturerId=16 - 500 null application/json; charset=utf-8 5261.2617ms
2025-10-13 14:51:21.083 +07:00 [INF] Request starting HTTP/2 PATCH https://localhost:7264/api/class/1/assign-lecturer?LecturerId=16 - null null
2025-10-13 14:51:21.091 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 14:51:21.095 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.ClassController.AssignLecturerToClass (CollabSphere.API)'
2025-10-13 14:51:21.097 +07:00 [INF] Route matched with {action = "AssignLecturerToClass", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignLecturerToClass(CollabSphere.Application.Features.Classes.Commands.AssignLec.AssignLecturerToClassCommand) on controller CollabSphere.API.Controllers.ClassController (CollabSphere.API).
2025-10-13 14:51:25.557 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob, c1.file_id, c1.class_id, c1.file_path, c1.type, s3.project_assignment_id, s3.assigned_date, s3.class_id, s3.project_id, s3.status, s3.project_id0, s3.description, s3.lecturer_id, s3.project_name, s3.status0, s3.subject_id, s4.team_id, s4.class_id, s4.created_date, s4.description, s4.end_date, s4.enrol_key, s4.git_link, s4.leader_id, s4.lecturer_id, s4.lecturer_name, s4.progress, s4.project_assignment_id, s4.status, s4.team_image, s4.team_name, s4.project_assignment_id0, s4.assigned_date, s4.class_id0, s4.project_id, s4.status0, s4.project_id0, s4.description0, s4.lecturer_id0, s4.project_name, s4.status1, s4.subject_id
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
LEFT JOIN class_file AS c1 ON s1.class_id = c1.class_id
LEFT JOIN (
    SELECT p.project_assignment_id, p.assigned_date, p.class_id, p.project_id, p.status, p0.project_id AS project_id0, p0.description, p0.lecturer_id, p0.project_name, p0.status AS status0, p0.subject_id
    FROM project_assignment AS p
    INNER JOIN project AS p0 ON p.project_id = p0.project_id
) AS s3 ON s1.class_id = s3.class_id
LEFT JOIN (
    SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name, p1.project_assignment_id AS project_assignment_id0, p1.assigned_date, p1.class_id AS class_id0, p1.project_id, p1.status AS status0, p2.project_id AS project_id0, p2.description AS description0, p2.lecturer_id AS lecturer_id0, p2.project_name, p2.status AS status1, p2.subject_id
    FROM team AS t
    LEFT JOIN project_assignment AS p1 ON t.project_assignment_id = p1.project_assignment_id
    LEFT JOIN project AS p2 ON p1.project_id = p2.project_id
) AS s4 ON s1.class_id = s4.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id, s2.student_id0, c1.file_id, s3.project_assignment_id, s3.project_id0, s4.team_id, s4.project_assignment_id0
2025-10-13 14:51:28.111 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM lecturer AS l
WHERE l.lecturer_id = @__p_0
LIMIT 1
2025-10-13 14:51:34.298 +07:00 [INF] Executed DbCommand (60ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob, c1.file_id, c1.class_id, c1.file_path, c1.type, s3.project_assignment_id, s3.assigned_date, s3.class_id, s3.project_id, s3.status, s3.project_id0, s3.description, s3.lecturer_id, s3.project_name, s3.status0, s3.subject_id, s4.team_id, s4.class_id, s4.created_date, s4.description, s4.end_date, s4.enrol_key, s4.git_link, s4.leader_id, s4.lecturer_id, s4.lecturer_name, s4.progress, s4.project_assignment_id, s4.status, s4.team_image, s4.team_name, s4.project_assignment_id0, s4.assigned_date, s4.class_id0, s4.project_id, s4.status0, s4.project_id0, s4.description0, s4.lecturer_id0, s4.project_name, s4.status1, s4.subject_id
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
LEFT JOIN class_file AS c1 ON s1.class_id = c1.class_id
LEFT JOIN (
    SELECT p.project_assignment_id, p.assigned_date, p.class_id, p.project_id, p.status, p0.project_id AS project_id0, p0.description, p0.lecturer_id, p0.project_name, p0.status AS status0, p0.subject_id
    FROM project_assignment AS p
    INNER JOIN project AS p0 ON p.project_id = p0.project_id
) AS s3 ON s1.class_id = s3.class_id
LEFT JOIN (
    SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name, p1.project_assignment_id AS project_assignment_id0, p1.assigned_date, p1.class_id AS class_id0, p1.project_id, p1.status AS status0, p2.project_id AS project_id0, p2.description AS description0, p2.lecturer_id AS lecturer_id0, p2.project_name, p2.status AS status1, p2.subject_id
    FROM team AS t
    LEFT JOIN project_assignment AS p1 ON t.project_assignment_id = p1.project_assignment_id
    LEFT JOIN project AS p2 ON p1.project_id = p2.project_id
) AS s4 ON s1.class_id = s4.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id, s2.student_id0, c1.file_id, s3.project_assignment_id, s3.project_id0, s4.team_id, s4.project_assignment_id0
2025-10-13 14:51:35.929 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM lecturer AS l
WHERE l.lecturer_id = @__p_0
LIMIT 1
2025-10-13 14:53:27.029 +07:00 [ERR] Error occurred while assigning lecturer to class.
System.InvalidOperationException: The instance of entity type 'ProjectAssignment' cannot be tracked because another instance with the same key value for {'ProjectAssignmentId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at CollabSphere.Infrastructure.Base.GenericRepository`1.Update(T entity) in D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.Infrastructure\Base\GenericRepository.cs:line 53
   at CollabSphere.Application.Features.Classes.Commands.AssignLec.AssignLecturerToClassHandler.HandleCommand(AssignLecturerToClassCommand request, CancellationToken cancellationToken) in D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.Application\Features\Classes\Commands\AssignLec\AssignLecturerToClassHandler.cs:line 48
2025-10-13 14:53:27.053 +07:00 [INF] Executing ObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 14:53:27.055 +07:00 [INF] Executed action CollabSphere.API.Controllers.ClassController.AssignLecturerToClass (CollabSphere.API) in 125956.0354ms
2025-10-13 14:53:27.056 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.ClassController.AssignLecturerToClass (CollabSphere.API)'
2025-10-13 14:53:27.107 +07:00 [INF] Request finished HTTP/2 PATCH https://localhost:7264/api/class/1/assign-lecturer?LecturerId=16 - 500 null application/json; charset=utf-8 126023.4683ms
2025-10-13 14:53:31.673 +07:00 [INF] Request starting HTTP/2 PATCH https://localhost:7264/api/class/1/assign-lecturer?LecturerId=16 - null null
2025-10-13 14:53:31.679 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 14:53:31.682 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.ClassController.AssignLecturerToClass (CollabSphere.API)'
2025-10-13 14:53:31.684 +07:00 [INF] Route matched with {action = "AssignLecturerToClass", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignLecturerToClass(CollabSphere.Application.Features.Classes.Commands.AssignLec.AssignLecturerToClassCommand) on controller CollabSphere.API.Controllers.ClassController (CollabSphere.API).
2025-10-13 14:53:33.776 +07:00 [INF] Executed DbCommand (131ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob, c1.file_id, c1.class_id, c1.file_path, c1.type, s3.project_assignment_id, s3.assigned_date, s3.class_id, s3.project_id, s3.status, s3.project_id0, s3.description, s3.lecturer_id, s3.project_name, s3.status0, s3.subject_id, s4.team_id, s4.class_id, s4.created_date, s4.description, s4.end_date, s4.enrol_key, s4.git_link, s4.leader_id, s4.lecturer_id, s4.lecturer_name, s4.progress, s4.project_assignment_id, s4.status, s4.team_image, s4.team_name, s4.project_assignment_id0, s4.assigned_date, s4.class_id0, s4.project_id, s4.status0, s4.project_id0, s4.description0, s4.lecturer_id0, s4.project_name, s4.status1, s4.subject_id
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
LEFT JOIN class_file AS c1 ON s1.class_id = c1.class_id
LEFT JOIN (
    SELECT p.project_assignment_id, p.assigned_date, p.class_id, p.project_id, p.status, p0.project_id AS project_id0, p0.description, p0.lecturer_id, p0.project_name, p0.status AS status0, p0.subject_id
    FROM project_assignment AS p
    INNER JOIN project AS p0 ON p.project_id = p0.project_id
) AS s3 ON s1.class_id = s3.class_id
LEFT JOIN (
    SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name, p1.project_assignment_id AS project_assignment_id0, p1.assigned_date, p1.class_id AS class_id0, p1.project_id, p1.status AS status0, p2.project_id AS project_id0, p2.description AS description0, p2.lecturer_id AS lecturer_id0, p2.project_name, p2.status AS status1, p2.subject_id
    FROM team AS t
    LEFT JOIN project_assignment AS p1 ON t.project_assignment_id = p1.project_assignment_id
    LEFT JOIN project AS p2 ON p1.project_id = p2.project_id
) AS s4 ON s1.class_id = s4.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id, s2.student_id0, c1.file_id, s3.project_assignment_id, s3.project_id0, s4.team_id, s4.project_assignment_id0
2025-10-13 14:53:33.828 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM lecturer AS l
WHERE l.lecturer_id = @__p_0
LIMIT 1
2025-10-13 14:53:35.633 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob, c1.file_id, c1.class_id, c1.file_path, c1.type, s3.project_assignment_id, s3.assigned_date, s3.class_id, s3.project_id, s3.status, s3.project_id0, s3.description, s3.lecturer_id, s3.project_name, s3.status0, s3.subject_id, s4.team_id, s4.class_id, s4.created_date, s4.description, s4.end_date, s4.enrol_key, s4.git_link, s4.leader_id, s4.lecturer_id, s4.lecturer_name, s4.progress, s4.project_assignment_id, s4.status, s4.team_image, s4.team_name, s4.project_assignment_id0, s4.assigned_date, s4.class_id0, s4.project_id, s4.status0, s4.project_id0, s4.description0, s4.lecturer_id0, s4.project_name, s4.status1, s4.subject_id
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
LEFT JOIN class_file AS c1 ON s1.class_id = c1.class_id
LEFT JOIN (
    SELECT p.project_assignment_id, p.assigned_date, p.class_id, p.project_id, p.status, p0.project_id AS project_id0, p0.description, p0.lecturer_id, p0.project_name, p0.status AS status0, p0.subject_id
    FROM project_assignment AS p
    INNER JOIN project AS p0 ON p.project_id = p0.project_id
) AS s3 ON s1.class_id = s3.class_id
LEFT JOIN (
    SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name, p1.project_assignment_id AS project_assignment_id0, p1.assigned_date, p1.class_id AS class_id0, p1.project_id, p1.status AS status0, p2.project_id AS project_id0, p2.description AS description0, p2.lecturer_id AS lecturer_id0, p2.project_name, p2.status AS status1, p2.subject_id
    FROM team AS t
    LEFT JOIN project_assignment AS p1 ON t.project_assignment_id = p1.project_assignment_id
    LEFT JOIN project AS p2 ON p1.project_id = p2.project_id
) AS s4 ON s1.class_id = s4.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id, s2.student_id0, c1.file_id, s3.project_assignment_id, s3.project_id0, s4.team_id, s4.project_assignment_id0
2025-10-13 14:53:36.642 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM lecturer AS l
WHERE l.lecturer_id = @__p_0
LIMIT 1
2025-10-13 14:55:23.961 +07:00 [ERR] Error occurred while assigning lecturer to class.
System.InvalidOperationException: The instance of entity type 'ProjectAssignment' cannot be tracked because another instance with the same key value for {'ProjectAssignmentId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at CollabSphere.Infrastructure.Base.GenericRepository`1.Update(T entity) in D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.Infrastructure\Base\GenericRepository.cs:line 53
   at CollabSphere.Application.Features.Classes.Commands.AssignLec.AssignLecturerToClassHandler.HandleCommand(AssignLecturerToClassCommand request, CancellationToken cancellationToken) in D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.Application\Features\Classes\Commands\AssignLec\AssignLecturerToClassHandler.cs:line 48
2025-10-13 14:55:23.976 +07:00 [INF] Executing ObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 14:55:23.978 +07:00 [INF] Executed action CollabSphere.API.Controllers.ClassController.AssignLecturerToClass (CollabSphere.API) in 112292.0052ms
2025-10-13 14:55:24.022 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.ClassController.AssignLecturerToClass (CollabSphere.API)'
2025-10-13 14:55:24.074 +07:00 [INF] Request finished HTTP/2 PATCH https://localhost:7264/api/class/1/assign-lecturer?LecturerId=16 - 500 null application/json; charset=utf-8 112400.6484ms
2025-10-13 14:58:09.587 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 14:58:09.800 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 14:58:09.803 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 14:58:09.876 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 14:58:09.878 +07:00 [INF] Hosting environment: Development
2025-10-13 14:58:09.880 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 14:58:10.078 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 14:58:10.229 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 158.1077ms
2025-10-13 14:58:10.232 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 14:58:10.246 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 14.8089ms
2025-10-13 14:58:10.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 14:58:10.387 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.3863ms
2025-10-13 14:58:10.427 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 14:58:10.446 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.8536ms
2025-10-13 14:58:26.449 +07:00 [INF] Request starting HTTP/2 PATCH https://localhost:7264/api/class/1/assign-lecturer?LecturerId=16 - null null
2025-10-13 14:58:26.469 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 14:58:26.661 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.ClassController.AssignLecturerToClass (CollabSphere.API)'
2025-10-13 14:58:26.706 +07:00 [INF] Route matched with {action = "AssignLecturerToClass", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AssignLecturerToClass(CollabSphere.Application.Features.Classes.Commands.AssignLec.AssignLecturerToClassCommand) on controller CollabSphere.API.Controllers.ClassController (CollabSphere.API).
2025-10-13 14:58:26.715 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 14:58:30.966 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-13 14:58:32.293 +07:00 [INF] Executed DbCommand (142ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob, c1.file_id, c1.class_id, c1.file_path, c1.type, s3.project_assignment_id, s3.assigned_date, s3.class_id, s3.project_id, s3.status, s3.project_id0, s3.description, s3.lecturer_id, s3.project_name, s3.status0, s3.subject_id, s4.team_id, s4.class_id, s4.created_date, s4.description, s4.end_date, s4.enrol_key, s4.git_link, s4.leader_id, s4.lecturer_id, s4.lecturer_name, s4.progress, s4.project_assignment_id, s4.status, s4.team_image, s4.team_name, s4.project_assignment_id0, s4.assigned_date, s4.class_id0, s4.project_id, s4.status0, s4.project_id0, s4.description0, s4.lecturer_id0, s4.project_name, s4.status1, s4.subject_id
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
LEFT JOIN class_file AS c1 ON s1.class_id = c1.class_id
LEFT JOIN (
    SELECT p.project_assignment_id, p.assigned_date, p.class_id, p.project_id, p.status, p0.project_id AS project_id0, p0.description, p0.lecturer_id, p0.project_name, p0.status AS status0, p0.subject_id
    FROM project_assignment AS p
    INNER JOIN project AS p0 ON p.project_id = p0.project_id
) AS s3 ON s1.class_id = s3.class_id
LEFT JOIN (
    SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name, p1.project_assignment_id AS project_assignment_id0, p1.assigned_date, p1.class_id AS class_id0, p1.project_id, p1.status AS status0, p2.project_id AS project_id0, p2.description AS description0, p2.lecturer_id AS lecturer_id0, p2.project_name, p2.status AS status1, p2.subject_id
    FROM team AS t
    LEFT JOIN project_assignment AS p1 ON t.project_assignment_id = p1.project_assignment_id
    LEFT JOIN project AS p2 ON p1.project_id = p2.project_id
) AS s4 ON s1.class_id = s4.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id, s2.student_id0, c1.file_id, s3.project_assignment_id, s3.project_id0, s4.team_id, s4.project_assignment_id0
2025-10-13 14:58:32.792 +07:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM lecturer AS l
WHERE l.lecturer_id = @__p_0
LIMIT 1
2025-10-13 14:58:34.446 +07:00 [INF] Executed DbCommand (137ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob, c1.file_id, c1.class_id, c1.file_path, c1.type, s3.project_assignment_id, s3.assigned_date, s3.class_id, s3.project_id, s3.status, s3.project_id0, s3.description, s3.lecturer_id, s3.project_name, s3.status0, s3.subject_id, s4.team_id, s4.class_id, s4.created_date, s4.description, s4.end_date, s4.enrol_key, s4.git_link, s4.leader_id, s4.lecturer_id, s4.lecturer_name, s4.progress, s4.project_assignment_id, s4.status, s4.team_image, s4.team_name, s4.project_assignment_id0, s4.assigned_date, s4.class_id0, s4.project_id, s4.status0, s4.project_id0, s4.description0, s4.lecturer_id0, s4.project_name, s4.status1, s4.subject_id
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
LEFT JOIN class_file AS c1 ON s1.class_id = c1.class_id
LEFT JOIN (
    SELECT p.project_assignment_id, p.assigned_date, p.class_id, p.project_id, p.status, p0.project_id AS project_id0, p0.description, p0.lecturer_id, p0.project_name, p0.status AS status0, p0.subject_id
    FROM project_assignment AS p
    INNER JOIN project AS p0 ON p.project_id = p0.project_id
) AS s3 ON s1.class_id = s3.class_id
LEFT JOIN (
    SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name, p1.project_assignment_id AS project_assignment_id0, p1.assigned_date, p1.class_id AS class_id0, p1.project_id, p1.status AS status0, p2.project_id AS project_id0, p2.description AS description0, p2.lecturer_id AS lecturer_id0, p2.project_name, p2.status AS status1, p2.subject_id
    FROM team AS t
    LEFT JOIN project_assignment AS p1 ON t.project_assignment_id = p1.project_assignment_id
    LEFT JOIN project AS p2 ON p1.project_id = p2.project_id
) AS s4 ON s1.class_id = s4.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id, s2.student_id0, c1.file_id, s3.project_assignment_id, s3.project_id0, s4.team_id, s4.project_assignment_id0
2025-10-13 14:58:34.502 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM lecturer AS l
WHERE l.lecturer_id = @__p_0
LIMIT 1
2025-10-13 14:58:34.693 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?', @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE class SET class_name = @p0, created_date = @p1, enrol_key = @p2, is_active = @p3, lecturer_id = @p4, lecturer_name = @p5, member_count = @p6, subject_id = @p7, team_count = @p8
WHERE class_id = @p9;
2025-10-13 14:58:34.829 +07:00 [INF] Lecturer with ID: 16 assigned to class with ID: 1 by user with ID: 7
2025-10-13 14:58:34.848 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 14:58:34.859 +07:00 [INF] Executed action CollabSphere.API.Controllers.ClassController.AssignLecturerToClass (CollabSphere.API) in 8147.4503ms
2025-10-13 14:58:34.865 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.ClassController.AssignLecturerToClass (CollabSphere.API)'
2025-10-13 14:58:34.870 +07:00 [INF] Request finished HTTP/2 PATCH https://localhost:7264/api/class/1/assign-lecturer?LecturerId=16 - 200 null application/json; charset=utf-8 8421.15ms
2025-10-13 15:01:24.867 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 15:01:24.982 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 15:01:24.984 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 15:01:25.038 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 15:01:25.040 +07:00 [INF] Hosting environment: Development
2025-10-13 15:01:25.041 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 15:01:25.342 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 15:01:25.464 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 122.7261ms
2025-10-13 15:01:25.468 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 15:01:25.477 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 8.4209ms
2025-10-13 15:01:25.578 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 15:01:25.601 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.3035ms
2025-10-13 15:01:25.657 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 15:01:25.674 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.9737ms
2025-10-13 15:02:54.071 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/class/1/add-student - application/json 110
2025-10-13 15:02:54.080 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 15:02:54.181 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API)'
2025-10-13 15:02:54.217 +07:00 [INF] Route matched with {action = "AddStudentToClass", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudentToClass(Int32, CollabSphere.Application.Features.Classes.Commands.AddStudent.AddStudentToClassCommand) on controller CollabSphere.API.Controllers.ClassController (CollabSphere.API).
2025-10-13 15:02:54.225 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 15:02:56.423 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-10-13 15:02:57.805 +07:00 [INF] Executed DbCommand (167ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob, c1.file_id, c1.class_id, c1.file_path, c1.type, s3.project_assignment_id, s3.assigned_date, s3.class_id, s3.project_id, s3.status, s3.project_id0, s3.description, s3.lecturer_id, s3.project_name, s3.status0, s3.subject_id, s4.team_id, s4.class_id, s4.created_date, s4.description, s4.end_date, s4.enrol_key, s4.git_link, s4.leader_id, s4.lecturer_id, s4.lecturer_name, s4.progress, s4.project_assignment_id, s4.status, s4.team_image, s4.team_name, s4.project_assignment_id0, s4.assigned_date, s4.class_id0, s4.project_id, s4.status0, s4.project_id0, s4.description0, s4.lecturer_id0, s4.project_name, s4.status1, s4.subject_id
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
LEFT JOIN class_file AS c1 ON s1.class_id = c1.class_id
LEFT JOIN (
    SELECT p.project_assignment_id, p.assigned_date, p.class_id, p.project_id, p.status, p0.project_id AS project_id0, p0.description, p0.lecturer_id, p0.project_name, p0.status AS status0, p0.subject_id
    FROM project_assignment AS p
    INNER JOIN project AS p0 ON p.project_id = p0.project_id
) AS s3 ON s1.class_id = s3.class_id
LEFT JOIN (
    SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name, p1.project_assignment_id AS project_assignment_id0, p1.assigned_date, p1.class_id AS class_id0, p1.project_id, p1.status AS status0, p2.project_id AS project_id0, p2.description AS description0, p2.lecturer_id AS lecturer_id0, p2.project_name, p2.status AS status1, p2.subject_id
    FROM team AS t
    LEFT JOIN project_assignment AS p1 ON t.project_assignment_id = p1.project_assignment_id
    LEFT JOIN project AS p2 ON p1.project_id = p2.project_id
) AS s4 ON s1.class_id = s4.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id, s2.student_id0, c1.file_id, s3.project_assignment_id, s3.project_id0, s4.team_id, s4.project_assignment_id0
2025-10-13 15:02:58.299 +07:00 [INF] Executed DbCommand (84ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob, c1.file_id, c1.class_id, c1.file_path, c1.type, s3.project_assignment_id, s3.assigned_date, s3.class_id, s3.project_id, s3.status, s3.project_id0, s3.description, s3.lecturer_id, s3.project_name, s3.status0, s3.subject_id, s4.team_id, s4.class_id, s4.created_date, s4.description, s4.end_date, s4.enrol_key, s4.git_link, s4.leader_id, s4.lecturer_id, s4.lecturer_name, s4.progress, s4.project_assignment_id, s4.status, s4.team_image, s4.team_name, s4.project_assignment_id0, s4.assigned_date, s4.class_id0, s4.project_id, s4.status0, s4.project_id0, s4.description0, s4.lecturer_id0, s4.project_name, s4.status1, s4.subject_id
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
LEFT JOIN class_file AS c1 ON s1.class_id = c1.class_id
LEFT JOIN (
    SELECT p.project_assignment_id, p.assigned_date, p.class_id, p.project_id, p.status, p0.project_id AS project_id0, p0.description, p0.lecturer_id, p0.project_name, p0.status AS status0, p0.subject_id
    FROM project_assignment AS p
    INNER JOIN project AS p0 ON p.project_id = p0.project_id
) AS s3 ON s1.class_id = s3.class_id
LEFT JOIN (
    SELECT t.team_id, t.class_id, t.created_date, t.description, t.end_date, t.enrol_key, t.git_link, t.leader_id, t.lecturer_id, t.lecturer_name, t.progress, t.project_assignment_id, t.status, t.team_image, t.team_name, p1.project_assignment_id AS project_assignment_id0, p1.assigned_date, p1.class_id AS class_id0, p1.project_id, p1.status AS status0, p2.project_id AS project_id0, p2.description AS description0, p2.lecturer_id AS lecturer_id0, p2.project_name, p2.status AS status1, p2.subject_id
    FROM team AS t
    LEFT JOIN project_assignment AS p1 ON t.project_assignment_id = p1.project_assignment_id
    LEFT JOIN project AS p2 ON p1.project_id = p2.project_id
) AS s4 ON s1.class_id = s4.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id, s2.student_id0, c1.file_id, s3.project_assignment_id, s3.project_id0, s4.team_id, s4.project_assignment_id0
2025-10-13 15:02:58.382 +07:00 [INF] Executed DbCommand (57ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.class_member_id, c.class_id, c.fullname, c.is_grouped, c.status, c.student_id, c.team_id, c.team_role
FROM class_member AS c
WHERE c.class_id = @__classId_0
2025-10-13 15:02:58.472 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob
FROM student AS s
WHERE s.student_id = @__p_0
LIMIT 1
2025-10-13 15:02:58.851 +07:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO class_member (class_id, fullname, status, student_id, team_id, team_role)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING class_member_id, is_grouped;
2025-10-13 15:02:59.044 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 15:02:59.062 +07:00 [INF] Executed action CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API) in 4837.3789ms
2025-10-13 15:02:59.067 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API)'
2025-10-13 15:02:59.075 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/class/1/add-student - 200 null application/json; charset=utf-8 5004.3703ms
2025-10-13 16:09:18.595 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 16:09:18.771 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 16:09:18.772 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 16:09:18.829 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 16:09:18.831 +07:00 [INF] Hosting environment: Development
2025-10-13 16:09:18.831 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 16:09:19.124 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 16:09:19.287 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 170.3333ms
2025-10-13 16:09:19.291 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 16:09:19.301 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 9.8192ms
2025-10-13 16:09:19.402 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 16:09:19.452 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.0683ms
2025-10-13 16:09:19.489 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 16:09:19.509 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.5301ms
2025-10-13 16:20:05.405 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 16:20:05.636 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 16:20:05.638 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 16:20:05.702 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 16:20:05.704 +07:00 [INF] Hosting environment: Development
2025-10-13 16:20:05.705 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 16:20:06.307 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 16:20:06.461 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 160.688ms
2025-10-13 16:20:06.467 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 16:20:06.478 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 11.3849ms
2025-10-13 16:20:06.577 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 16:20:06.617 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.8217ms
2025-10-13 16:20:06.654 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 16:20:06.676 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 21.4346ms
2025-10-13 16:20:42.436 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/auth/login - application/json 61
2025-10-13 16:20:42.452 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:20:42.569 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 16:20:42.611 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CollabSphere.Application.DTOs.User.LoginRequestDTO) on controller CollabSphere.API.Controllers.AuthController (CollabSphere.API).
2025-10-13 16:20:42.621 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 16:20:46.939 +07:00 [INF] Executed DbCommand (134ms) [Parameters=[@__email_0='?', @__password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
WHERE u.email = @__email_0 AND u.password = @__password_1 AND u.is_active
LIMIT 1
2025-10-13 16:20:47.569 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "user" SET created_date = @p0, email = @p1, is_active = @p2, is_teacher = @p3, password = @p4, refresh_token = @p5, refresh_token_expiry_time = @p6, role_id = @p7
WHERE u_id = @p8;
2025-10-13 16:20:47.714 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.LoginResponseDTO'.
2025-10-13 16:20:47.752 +07:00 [INF] Executed action CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API) in 5131.5343ms
2025-10-13 16:20:47.758 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 16:20:47.771 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/auth/login - 200 null application/json; charset=utf-8 5336.3943ms
2025-10-13 16:21:05.037 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7264/api/user/profile/3 - application/json 299
2025-10-13 16:21:05.047 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:21:05.154 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:21:05.178 +07:00 [INF] Route matched with {action = "UpdateUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserProfile(Int32, CollabSphere.Application.Features.User.Commands.UpdateUserProfileCommand) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 16:21:05.225 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-10-13 16:21:05.231 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API) in 45.1628ms
2025-10-13 16:21:05.237 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:21:05.240 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7264/api/user/profile/3 - 400 null text/plain; charset=utf-8 202.3175ms
2025-10-13 16:21:47.499 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7264/api/user/profile/3 - application/json 17
2025-10-13 16:21:47.512 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:21:47.516 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:21:47.519 +07:00 [INF] Route matched with {action = "UpdateUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserProfile(Int32, CollabSphere.Application.Features.User.Commands.UpdateUserProfileCommand) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 16:21:47.533 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-13 16:21:47.549 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API) in 25.2401ms
2025-10-13 16:21:47.553 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:21:47.555 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7264/api/user/profile/3 - 400 null application/problem+json; charset=utf-8 56.7422ms
2025-10-13 16:22:30.225 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7264/api/user/profile/3 - application/json 165
2025-10-13 16:22:30.231 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:22:30.234 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:22:30.235 +07:00 [INF] Route matched with {action = "UpdateUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserProfile(Int32, CollabSphere.Application.Features.User.Commands.UpdateUserProfileCommand) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 16:22:30.238 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-13 16:22:30.240 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API) in 2.8341ms
2025-10-13 16:22:30.242 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:22:30.243 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7264/api/user/profile/3 - 400 null application/problem+json; charset=utf-8 18.0903ms
2025-10-13 16:23:46.087 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7264/api/user/profile/3 - application/json 205
2025-10-13 16:23:46.095 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:23:46.096 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:23:46.097 +07:00 [INF] Route matched with {action = "UpdateUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserProfile(Int32, CollabSphere.Application.Features.User.Commands.UpdateUserProfileCommand) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 16:23:46.199 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 16:23:53.148 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 16:24:51.487 +07:00 [INF] Executed DbCommand (87ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?', @p1='?', @p2='?', @p3='?', @p4='?', @p14='?' (DbType = Int32), @p6='?' (DbType = DateTime), @p7='?', @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?', @p11='?', @p12='?' (DbType = DateTime), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE student SET address = @p0, fullname = @p1, major = @p2, phone_number = @p3, school = @p4
WHERE student_id = @p5;
UPDATE "user" SET created_date = @p6, email = @p7, is_active = @p8, is_teacher = @p9, password = @p10, refresh_token = @p11, refresh_token_expiry_time = @p12, role_id = @p13
WHERE u_id = @p14;
2025-10-13 16:24:54.175 +07:00 [INF] Update profile of user with ID: 3 sucessfully
2025-10-13 16:24:55.135 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 16:24:55.142 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API) in 69041.6452ms
2025-10-13 16:24:55.144 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:24:55.146 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7264/api/user/profile/3 - 200 null application/json; charset=utf-8 69059.2783ms
2025-10-13 16:27:36.875 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 16:27:37.082 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 16:27:37.084 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 16:27:37.165 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 16:27:37.166 +07:00 [INF] Hosting environment: Development
2025-10-13 16:27:37.168 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 16:27:37.637 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 16:27:37.800 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 170.4954ms
2025-10-13 16:27:37.803 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 16:27:37.815 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 11.7028ms
2025-10-13 16:27:37.910 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 16:27:37.959 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.22ms
2025-10-13 16:27:38.003 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 16:27:38.029 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 26.1959ms
2025-10-13 16:27:49.268 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/auth/login - application/json 54
2025-10-13 16:27:49.280 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:27:49.358 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 16:27:49.397 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CollabSphere.Application.DTOs.User.LoginRequestDTO) on controller CollabSphere.API.Controllers.AuthController (CollabSphere.API).
2025-10-13 16:27:49.407 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 16:27:53.707 +07:00 [INF] Executed DbCommand (162ms) [Parameters=[@__email_0='?', @__password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
WHERE u.email = @__email_0 AND u.password = @__password_1 AND u.is_active
LIMIT 1
2025-10-13 16:27:54.378 +07:00 [INF] Executed DbCommand (58ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "user" SET created_date = @p0, email = @p1, is_active = @p2, is_teacher = @p3, password = @p4, refresh_token = @p5, refresh_token_expiry_time = @p6, role_id = @p7
WHERE u_id = @p8;
2025-10-13 16:27:54.539 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.LoginResponseDTO'.
2025-10-13 16:27:54.561 +07:00 [INF] Executed action CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API) in 5155.5903ms
2025-10-13 16:27:54.565 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 16:27:54.575 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/auth/login - 200 null application/json; charset=utf-8 5307.9338ms
2025-10-13 16:29:10.646 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7264/api/user/profile/3 - application/json 199
2025-10-13 16:29:10.665 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:29:10.757 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:29:10.775 +07:00 [INF] Route matched with {action = "UpdateUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserProfile(Int32, CollabSphere.Application.Features.User.Commands.UpdateUserProfileCommand) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 16:29:14.500 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 16:29:19.371 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 16:29:19.376 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API) in 8595.7587ms
2025-10-13 16:29:19.379 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:29:19.380 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7264/api/user/profile/3 - 400 null application/json; charset=utf-8 8733.5636ms
2025-10-13 16:29:54.314 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/auth/login - application/json 66
2025-10-13 16:29:54.321 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:29:54.325 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 16:29:54.328 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CollabSphere.Application.DTOs.User.LoginRequestDTO) on controller CollabSphere.API.Controllers.AuthController (CollabSphere.API).
2025-10-13 16:29:54.446 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__email_0='?', @__password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
WHERE u.email = @__email_0 AND u.password = @__password_1 AND u.is_active
LIMIT 1
2025-10-13 16:29:54.693 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "user" SET created_date = @p0, email = @p1, is_active = @p2, is_teacher = @p3, password = @p4, refresh_token = @p5, refresh_token_expiry_time = @p6, role_id = @p7
WHERE u_id = @p8;
2025-10-13 16:29:54.796 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.LoginResponseDTO'.
2025-10-13 16:29:54.798 +07:00 [INF] Executed action CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API) in 463.5102ms
2025-10-13 16:29:54.799 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 16:29:54.800 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/auth/login - 200 null application/json; charset=utf-8 486.3162ms
2025-10-13 16:30:07.003 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7264/api/user/profile/3 - application/json 199
2025-10-13 16:30:07.013 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:30:07.019 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:30:07.022 +07:00 [INF] Route matched with {action = "UpdateUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserProfile(Int32, CollabSphere.Application.Features.User.Commands.UpdateUserProfileCommand) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 16:30:09.564 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 16:30:19.172 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 16:30:19.175 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API) in 12150.6348ms
2025-10-13 16:30:19.177 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:30:19.178 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7264/api/user/profile/3 - 400 null application/json; charset=utf-8 12176.8404ms
2025-10-13 16:30:39.197 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/auth/login - application/json 56
2025-10-13 16:30:39.206 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:30:39.209 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 16:30:39.210 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(CollabSphere.Application.DTOs.User.LoginRequestDTO) on controller CollabSphere.API.Controllers.AuthController (CollabSphere.API).
2025-10-13 16:30:39.289 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__email_0='?', @__password_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
WHERE u.email = @__email_0 AND u.password = @__password_1 AND u.is_active
LIMIT 1
2025-10-13 16:30:39.546 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "user" SET created_date = @p0, email = @p1, is_active = @p2, is_teacher = @p3, password = @p4, refresh_token = @p5, refresh_token_expiry_time = @p6, role_id = @p7
WHERE u_id = @p8;
2025-10-13 16:30:39.658 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.DTOs.User.LoginResponseDTO'.
2025-10-13 16:30:39.664 +07:00 [INF] Executed action CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API) in 449.3543ms
2025-10-13 16:30:39.667 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.AuthController.Login (CollabSphere.API)'
2025-10-13 16:30:39.670 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/auth/login - 200 null application/json; charset=utf-8 473.1751ms
2025-10-13 16:30:52.846 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7264/api/user/profile/3 - application/json 199
2025-10-13 16:30:52.859 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:30:52.862 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:30:52.863 +07:00 [INF] Route matched with {action = "UpdateUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserProfile(Int32, CollabSphere.Application.Features.User.Commands.UpdateUserProfileCommand) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 16:30:54.545 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 16:30:59.082 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 16:30:59.195 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?', @p1='?', @p11='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE student SET address = @p0, fullname = @p1
WHERE student_id = @p2;
UPDATE "user" SET created_date = @p3, email = @p4, is_active = @p5, is_teacher = @p6, password = @p7, refresh_token = @p8, refresh_token_expiry_time = @p9, role_id = @p10
WHERE u_id = @p11;
2025-10-13 16:30:59.308 +07:00 [INF] Update profile of user with ID: 3 sucessfully
2025-10-13 16:30:59.313 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 16:30:59.316 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API) in 6450.506ms
2025-10-13 16:30:59.319 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:30:59.321 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7264/api/user/profile/3 - 200 null application/json; charset=utf-8 6474.6516ms
2025-10-13 16:31:51.793 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-13 16:31:51.903 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-13 16:31:51.904 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-13 16:31:51.964 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-13 16:31:51.966 +07:00 [INF] Hosting environment: Development
2025-10-13 16:31:51.967 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-13 16:31:52.262 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-13 16:31:52.364 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 102.1349ms
2025-10-13 16:31:52.367 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-13 16:31:52.376 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 8.3728ms
2025-10-13 16:31:52.490 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-13 16:31:52.515 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.6336ms
2025-10-13 16:31:52.566 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-13 16:31:52.581 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.0764ms
2025-10-13 16:32:56.149 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7264/api/user/profile/3 - application/json 290
2025-10-13 16:32:56.170 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:32:56.291 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:32:56.340 +07:00 [INF] Route matched with {action = "UpdateUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserProfile(Int32, CollabSphere.Application.Features.User.Commands.UpdateUserProfileCommand) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 16:32:56.353 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-13 16:32:56.415 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-13 16:32:56.456 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API) in 105.0842ms
2025-10-13 16:32:56.459 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:32:56.460 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7264/api/user/profile/3 - 400 null application/problem+json; charset=utf-8 311.4538ms
2025-10-13 16:33:04.946 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7264/api/user/profile/3 - application/json 288
2025-10-13 16:33:04.956 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:33:04.960 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:33:04.963 +07:00 [INF] Route matched with {action = "UpdateUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserProfile(Int32, CollabSphere.Application.Features.User.Commands.UpdateUserProfileCommand) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 16:33:04.970 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-10-13 16:33:04.973 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API) in 6.6989ms
2025-10-13 16:33:04.976 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:33:04.977 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7264/api/user/profile/3 - 400 null application/problem+json; charset=utf-8 30.9665ms
2025-10-13 16:33:16.233 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7264/api/user/profile/3 - application/json 289
2025-10-13 16:33:16.236 +07:00 [INF] No CORS policy found for the specified request.
2025-10-13 16:33:16.240 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:33:16.242 +07:00 [INF] Route matched with {action = "UpdateUserProfile", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUserProfile(Int32, CollabSphere.Application.Features.User.Commands.UpdateUserProfileCommand) on controller CollabSphere.API.Controllers.UserController (CollabSphere.API).
2025-10-13 16:33:20.709 +07:00 [INF] Executed DbCommand (108ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 16:33:21.010 +07:00 [INF] Executed DbCommand (70ms) [Parameters=[@__uid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u.u_id, u.created_date, u.email, u.is_active, u.is_teacher, u.password, u.refresh_token, u.refresh_token_expiry_time, u.role_id, r.role_id, r.role_name, s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob, l.lecturer_id, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
FROM "user" AS u
INNER JOIN role AS r ON u.role_id = r.role_id
LEFT JOIN student AS s ON u.u_id = s.student_id
LEFT JOIN lecturer AS l ON u.u_id = l.lecturer_id
WHERE u.u_id = @__uid_0 AND u.is_active
LIMIT 1
2025-10-13 16:33:21.263 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?', @p1='?', @p11='?' (DbType = Int32), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?' (DbType = DateTime), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE student SET address = @p0, fullname = @p1
WHERE student_id = @p2;
UPDATE "user" SET created_date = @p3, email = @p4, is_active = @p5, is_teacher = @p6, password = @p7, refresh_token = @p8, refresh_token_expiry_time = @p9, role_id = @p10
WHERE u_id = @p11;
2025-10-13 16:33:21.399 +07:00 [INF] Update profile of user with ID: 3 sucessfully
2025-10-13 16:33:21.407 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-13 16:33:21.412 +07:00 [INF] Executed action CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API) in 5167.5588ms
2025-10-13 16:33:21.416 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.UserController.UpdateUserProfile (CollabSphere.API)'
2025-10-13 16:33:21.426 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7264/api/user/profile/3 - 200 null application/json; charset=utf-8 5193.4605ms
