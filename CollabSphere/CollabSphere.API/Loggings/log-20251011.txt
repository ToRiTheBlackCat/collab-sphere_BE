2025-10-11 00:00:12.554 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/class/1/add-student - application/json 106
2025-10-11 00:00:12.566 +07:00 [INF] No CORS policy found for the specified request.
2025-10-11 00:00:12.677 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API)'
2025-10-11 00:00:12.709 +07:00 [INF] Route matched with {action = "AddStudentToClass", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudentToClass(Int32, CollabSphere.Application.Features.Classes.Commands.AddStudent.AddStudentToClassCommand) on controller CollabSphere.API.Controllers.ClassController (CollabSphere.API).
2025-10-11 00:00:12.717 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-11 00:00:15.743 +07:00 [INF] Executed DbCommand (125ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id
2025-10-11 00:00:15.882 +07:00 [INF] Executed DbCommand (57ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id
2025-10-11 00:00:15.965 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.class_member_id, c.class_id, c.fullname, c.is_grouped, c.status, c.student_id, c.team_id, c.team_role
FROM class_member AS c
WHERE c.class_id = @__classId_0
2025-10-11 00:00:16.057 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob
FROM student AS s
WHERE s.student_id = @__p_0
LIMIT 1
2025-10-11 00:00:16.157 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-11 00:00:16.175 +07:00 [INF] Executed action CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API) in 3456.4154ms
2025-10-11 00:00:16.177 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API)'
2025-10-11 00:00:16.188 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/class/1/add-student - 200 null application/json; charset=utf-8 3633.7205ms
2025-10-11 00:01:14.140 +07:00 [INF] User profile is available. Using 'C:\Users\minhtri\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-11 00:01:14.241 +07:00 [INF] Now listening on: https://localhost:7264
2025-10-11 00:01:14.243 +07:00 [INF] Now listening on: http://localhost:5263
2025-10-11 00:01:14.299 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-11 00:01:14.317 +07:00 [INF] Hosting environment: Development
2025-10-11 00:01:14.319 +07:00 [INF] Content root path: D:\SEP490\collab-sphere_BE\CollabSphere\CollabSphere.API
2025-10-11 00:01:14.973 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/index.html - null null
2025-10-11 00:01:15.084 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/index.html - 200 null text/html;charset=utf-8 111.8189ms
2025-10-11 00:01:15.089 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - null null
2025-10-11 00:01:15.101 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_framework/aspnetcore-browser-refresh.js - 200 16517 application/javascript; charset=utf-8 11.8257ms
2025-10-11 00:01:15.200 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/_vs/browserLink - null null
2025-10-11 00:01:15.230 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.0042ms
2025-10-11 00:01:15.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - null null
2025-10-11 00:01:15.336 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7264/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.9996ms
2025-10-11 00:01:30.174 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/class/1/add-student - application/json 106
2025-10-11 00:01:30.188 +07:00 [INF] No CORS policy found for the specified request.
2025-10-11 00:01:30.314 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API)'
2025-10-11 00:01:30.345 +07:00 [INF] Route matched with {action = "AddStudentToClass", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudentToClass(Int32, CollabSphere.Application.Features.Classes.Commands.AddStudent.AddStudentToClassCommand) on controller CollabSphere.API.Controllers.ClassController (CollabSphere.API).
2025-10-11 00:01:30.352 +07:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-11 00:01:33.581 +07:00 [INF] Executed DbCommand (135ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id
2025-10-11 00:01:33.720 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id
2025-10-11 00:01:33.791 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.class_member_id, c.class_id, c.fullname, c.is_grouped, c.status, c.student_id, c.team_id, c.team_role
FROM class_member AS c
WHERE c.class_id = @__classId_0
2025-10-11 00:01:33.889 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob
FROM student AS s
WHERE s.student_id = @__p_0
LIMIT 1
2025-10-11 00:01:33.992 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-11 00:01:34.011 +07:00 [INF] Executed action CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API) in 3659.4556ms
2025-10-11 00:01:34.016 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API)'
2025-10-11 00:01:34.026 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/class/1/add-student - 200 null application/json; charset=utf-8 3852.1896ms
2025-10-11 00:01:49.454 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/class/1/add-student - application/json 106
2025-10-11 00:01:49.464 +07:00 [INF] No CORS policy found for the specified request.
2025-10-11 00:01:49.472 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API)'
2025-10-11 00:01:49.477 +07:00 [INF] Route matched with {action = "AddStudentToClass", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudentToClass(Int32, CollabSphere.Application.Features.Classes.Commands.AddStudent.AddStudentToClassCommand) on controller CollabSphere.API.Controllers.ClassController (CollabSphere.API).
2025-10-11 00:01:49.710 +07:00 [INF] Executed DbCommand (125ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id
2025-10-11 00:01:49.790 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id
2025-10-11 00:01:49.853 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.class_member_id, c.class_id, c.fullname, c.is_grouped, c.status, c.student_id, c.team_id, c.team_role
FROM class_member AS c
WHERE c.class_id = @__classId_0
2025-10-11 00:01:49.911 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob
FROM student AS s
WHERE s.student_id = @__p_0
LIMIT 1
2025-10-11 00:01:50.064 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-11 00:01:50.066 +07:00 [INF] Executed action CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API) in 582.6736ms
2025-10-11 00:01:50.067 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API)'
2025-10-11 00:01:50.068 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/class/1/add-student - 200 null application/json; charset=utf-8 614.0733ms
2025-10-11 00:02:08.982 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7264/api/class/1/add-student - application/json 109
2025-10-11 00:02:08.989 +07:00 [INF] No CORS policy found for the specified request.
2025-10-11 00:02:08.996 +07:00 [INF] Executing endpoint 'CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API)'
2025-10-11 00:02:09.004 +07:00 [INF] Route matched with {action = "AddStudentToClass", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddStudentToClass(Int32, CollabSphere.Application.Features.Classes.Commands.AddStudent.AddStudentToClassCommand) on controller CollabSphere.API.Controllers.ClassController (CollabSphere.API).
2025-10-11 00:02:09.131 +07:00 [INF] Executed DbCommand (92ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id
2025-10-11 00:02:09.283 +07:00 [INF] Executed DbCommand (126ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s1.class_id, s1.class_name, s1.created_date, s1.enrol_key, s1.is_active, s1.lecturer_id, s1.lecturer_name, s1.member_count, s1.subject_id, s1.team_count, s1.subject_id0, s1.is_active0, s1.subject_code, s1.subject_name, s1.lecturer_id0, s1.address, s1.avatar_img, s1.fullname, s1.lecturer_code, s1.major, s1.phone_number, s1.school, s1.yob, s2.class_member_id, s2.class_id, s2.fullname, s2.is_grouped, s2.status, s2.student_id, s2.team_id, s2.team_role, s2.student_id0, s2.address, s2.avatar_img, s2.fullname0, s2.major, s2.phone_number, s2.school, s2.student_code, s2.yob
FROM (
    SELECT c.class_id, c.class_name, c.created_date, c.enrol_key, c.is_active, c.lecturer_id, c.lecturer_name, c.member_count, c.subject_id, c.team_count, s.subject_id AS subject_id0, s.is_active AS is_active0, s.subject_code, s.subject_name, l.lecturer_id AS lecturer_id0, l.address, l.avatar_img, l.fullname, l.lecturer_code, l.major, l.phone_number, l.school, l.yob
    FROM class AS c
    INNER JOIN subject AS s ON c.subject_id = s.subject_id
    LEFT JOIN lecturer AS l ON c.lecturer_id = l.lecturer_id
    WHERE c.class_id = @__classId_0
    LIMIT 1
) AS s1
LEFT JOIN (
    SELECT c0.class_member_id, c0.class_id, c0.fullname, c0.is_grouped, c0.status, c0.student_id, c0.team_id, c0.team_role, s0.student_id AS student_id0, s0.address, s0.avatar_img, s0.fullname AS fullname0, s0.major, s0.phone_number, s0.school, s0.student_code, s0.yob
    FROM class_member AS c0
    INNER JOIN student AS s0 ON c0.student_id = s0.student_id
) AS s2 ON s1.class_id = s2.class_id
ORDER BY s1.class_id, s1.subject_id0, s1.lecturer_id0, s2.class_member_id
2025-10-11 00:02:09.395 +07:00 [INF] Executed DbCommand (107ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c.class_member_id, c.class_id, c.fullname, c.is_grouped, c.status, c.student_id, c.team_id, c.team_role
FROM class_member AS c
WHERE c.class_id = @__classId_0
2025-10-11 00:02:09.479 +07:00 [INF] Executed DbCommand (78ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s.student_id, s.address, s.avatar_img, s.fullname, s.major, s.phone_number, s.school, s.student_code, s.yob
FROM student AS s
WHERE s.student_id = @__p_0
LIMIT 1
2025-10-11 00:02:09.766 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO class_member (class_id, fullname, status, student_id, team_id, team_role)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING class_member_id, is_grouped;
2025-10-11 00:02:09.911 +07:00 [INF] Executing OkObjectResult, writing value of type 'CollabSphere.Application.Base.CommandResult'.
2025-10-11 00:02:09.914 +07:00 [INF] Executed action CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API) in 904.8467ms
2025-10-11 00:02:09.917 +07:00 [INF] Executed endpoint 'CollabSphere.API.Controllers.ClassController.AddStudentToClass (CollabSphere.API)'
2025-10-11 00:02:09.920 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7264/api/class/1/add-student - 200 null application/json; charset=utf-8 937.8881ms
